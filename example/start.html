<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Path 全命令测试</title>
</head>

<body>
  <div id="app">
    <h2>Path 全命令测试</h2>
    <div id="game-container">
      <canvas id="game-canvas" width="1200" height="800" style="border:1px solid #000;"></canvas>
    </div>
  </div>

  <script type="module">
    import { Engine, Components, loadImageBitmap } from '../src/main.ts';
    import { Tween, Easing } from 'https://unpkg.com/@tweenjs/tween.js@23.1.3/dist/tween.esm.js';
    const canvas = document.getElementById("game-canvas");
    export const engine = new Engine(canvas);

    const c1 = engine.ecs.createEntity();
    // 创建组件
    const circle = new Components.Circle(engine, { radius: 132, fillStyle: "green", });
    const transform = new Components.Transform(engine, { x: 210, y: 210 });
    const event = new Components.EventComponent(engine);
    // 组件和实体绑定
    engine.ecs.addComponent(c1, circle);
    engine.ecs.addComponent(c1, event);
    engine.ecs.addComponent(c1, transform);
    engine.boxDebug = true;
    engine.add(c1);
    engine.start();

    event.on('click', (e) => { console.log('click', e); });
    // 动态修改组件属性
    const tween1 = new Tween(circle)
      .to({ radius: 200 }, 1000)
      .easing(Easing.Quadratic.InOut)
    const tween2 = new Tween(transform)
      .to({ x: 400, y: 400 }, 1000)
      .easing(Easing.Quadratic.InOut)

    engine.ticker.add(() => {
      tween1.update(performance.now());
      tween2.update(performance.now());
    })
  </script>
</body>

</html>